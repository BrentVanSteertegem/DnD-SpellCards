(function(){"use strict";var e={5457:function(e,s,l){var t=l(5130),n=l(6768);const r={class:"spellcard_list flex flex-wrap gap-4 justify-center p-4 max-h-screen overflow-auto"};function a(e,s,l,t,a,c){const i=(0,n.g2)("Filter"),o=(0,n.g2)("SpellCard");return(0,n.uX)(),(0,n.CE)("section",null,[(0,n.bF)(i,{filter:e.filter,onPassSelectedClass:s[0]||(s[0]=s=>e.updateSelectedClasses(s))},null,8,["filter"]),(0,n.Lk)("ul",r,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.selectedSpells,(e=>((0,n.uX)(),(0,n.CE)("li",{class:"list-none",key:e.index},[(0,n.bF)(o,{spell:e},null,8,["spell"])])))),128))])])}l(4114);const c="https://www.dnd5eapi.co",i=async()=>{const e=await fetch(c+"/api/spells").then((e=>e.json()));return Promise.all(e.results.map((e=>fetch(c+e.url).then((e=>e.json())))))};var o=l(4232);const p={class:"flex-col min-w-fit p-4 gap-1"},u={class:"flex flex-col"},d=["id","value"],f=["for"];function h(e,s,l,t,r,a){return(0,n.uX)(),(0,n.CE)("section",p,[s[1]||(s[1]=(0,n.Lk)("h2",{class:"text-2xl"},"Classes",-1)),(0,n.Lk)("ul",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.filter?.spellsPerClass,(([l,t])=>((0,n.uX)(),(0,n.CE)("li",{class:"list-none flex gap-2",key:l},[(0,n.Lk)("input",{type:"checkbox",id:l,value:l,onChange:s[0]||(s[0]=(...s)=>e.updateSelectedClasses&&e.updateSelectedClasses(...s))},null,40,d),(0,n.Lk)("label",{for:l},(0,o.v_)(l)+" ("+(0,o.v_)(t)+")",9,f)])))),128))])])}const v={filter:{type:Object,required:!0}};var C=(0,n.pM)({name:"FilterComponent",props:v,methods:{updateSelectedClasses(e){this.$emit("passSelectedClass",e.target.value)}}}),g=l(1241);const m=(0,g.A)(C,[["render",h],["__scopeId","data-v-583338ae"]]);var k=m;const x={class:"spellcard w-80 p-8 rounded-3xl text-base"},b={class:"flex-col gap-4 h-96 overflow-auto"},y={class:"text-xl uppercase"},S={class:"flex-col gap-1"},_={key:0,class:"items-center gap-2.5"},w={key:1,class:"items-center gap-2.5"},L={key:2,class:"items-center gap-2.5"},E={key:3,class:"items-center gap-2.5"},O={key:0,class:"desc"};function j(e,s,l,t,r,a){return(0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("section",b,[(0,n.Lk)("div",null,[(0,n.Lk)("h2",y,(0,o.v_)(e.spell.name),1),(0,n.Lk)("i",null,(0,o.v_)(e.spell.level>0?"Level "+e.spell.level+" ":"")+" "+(0,o.v_)(e.spell.school.name)+" "+(0,o.v_)(0===e.spell.level?" cantrip":""),1)]),(0,n.Lk)("section",S,[e.spell.casting_time?((0,n.uX)(),(0,n.CE)("section",_,[s[0]||(s[0]=(0,n.Lk)("b",{class:"text-lg"},"Casting time:",-1)),(0,n.Lk)("p",null,(0,o.v_)(e.spell.casting_time),1)])):(0,n.Q3)("",!0),e.spell.range?((0,n.uX)(),(0,n.CE)("section",w,[s[1]||(s[1]=(0,n.Lk)("b",{class:"text-lg"},"Range:",-1)),(0,n.Lk)("p",null,(0,o.v_)(e.spell.range),1)])):(0,n.Q3)("",!0),e.spell.components?((0,n.uX)(),(0,n.CE)("section",L,[s[2]||(s[2]=(0,n.Lk)("b",{class:"text-lg"},"Components:",-1)),(0,n.Lk)("p",null,(0,o.v_)(e.spell.components.join(", ")),1)])):(0,n.Q3)("",!0),e.spell.duration?((0,n.uX)(),(0,n.CE)("section",E,[s[3]||(s[3]=(0,n.Lk)("b",{class:"text-lg"},"Duration:",-1)),(0,n.Lk)("p",null,(0,o.v_)(e.spell.duration),1)])):(0,n.Q3)("",!0)]),e.spell.desc?((0,n.uX)(),(0,n.CE)("p",O,(0,o.v_)("object"==typeof e.spell.desc?e.spell.desc[0]:e.spell.desc),1)):(0,n.Q3)("",!0)])])}const X={spell:{type:Object,required:!0}};var P=(0,n.pM)({name:"SpellCard",props:X});const F=(0,g.A)(P,[["render",j],["__scopeId","data-v-299bf08f"]]);var I=F,M=(0,n.pM)({name:"App",components:{Filter:k,SpellCard:I},data(){return{selectedClasses:[],spells:[],selectedSpells:[],filter:{spellsPerClass:new Map}}},methods:{updateSelectedSpells(){const e=this.spells.filter((e=>e.classes.some((e=>this.selectedClasses.includes(e.index)))));this.selectedSpells=e.length?e:this.spells},updateSelectedClasses(e){this.selectedClasses.includes(e)?this.selectedClasses=this.selectedClasses.filter((s=>s!==e)):this.selectedClasses.push(e),this.updateSelectedSpells()}},mounted(){const e=e=>{e.forEach((e=>{e.classes.forEach((e=>{this.filter.spellsPerClass.get(e.index)?this.filter.spellsPerClass.set(e.index,this.filter.spellsPerClass.get(e.index)+1):this.filter.spellsPerClass.set(e.index,1)}))}))},s=async()=>{const s=localStorage.getItem("spells");s&&(this.spells=JSON.parse(s),e(JSON.parse(s)));const l=await i();l&&(this.spells=l,localStorage.setItem("spells",JSON.stringify(l)),this.filter.spellsPerClass=new Map,e(l))};s(),this.selectedSpells=this.spells}});const Q=(0,g.A)(M,[["render",a]]);var A=Q;(0,t.Ef)(A).mount("#app")}},s={};function l(t){var n=s[t];if(void 0!==n)return n.exports;var r=s[t]={exports:{}};return e[t].call(r.exports,r,r.exports,l),r.exports}l.m=e,function(){var e=[];l.O=function(s,t,n,r){if(!t){var a=1/0;for(p=0;p<e.length;p++){t=e[p][0],n=e[p][1],r=e[p][2];for(var c=!0,i=0;i<t.length;i++)(!1&r||a>=r)&&Object.keys(l.O).every((function(e){return l.O[e](t[i])}))?t.splice(i--,1):(c=!1,r<a&&(a=r));if(c){e.splice(p--,1);var o=n();void 0!==o&&(s=o)}}return s}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[t,n,r]}}(),function(){l.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(s,{a:s}),s}}(),function(){l.d=function(e,s){for(var t in s)l.o(s,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};l.O.j=function(s){return 0===e[s]};var s=function(s,t){var n,r,a=t[0],c=t[1],i=t[2],o=0;if(a.some((function(s){return 0!==e[s]}))){for(n in c)l.o(c,n)&&(l.m[n]=c[n]);if(i)var p=i(l)}for(s&&s(t);o<a.length;o++)r=a[o],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(p)},t=self["webpackChunkdnd_spellcards"]=self["webpackChunkdnd_spellcards"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=l.O(void 0,[504],(function(){return l(5457)}));t=l.O(t)})();
//# sourceMappingURL=app.7c18206e.js.map